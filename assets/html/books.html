<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <meta name="theme-color" content="#0078d7" />
    <title>Book Logger</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="manifest" href="../../manifest.json" />
    <link rel="icon" type="image/x-icon" href="../icons/favicon.ico" />
    <!-- google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-4P9V6Z8JJ5"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-4P9V6Z8JJ5");
    </script>
  </head>

  <body>
    <header role="banner">
      <h1>My Book Logger</h1>
    </header>
    <main role="main">
      <a href="#main-content" class="skip-link">Skip to main content</a>
      <div>
        <button id="signoutbttn" aria-label="Sign out of Book Logger">
          Sign Out
        </button>
      </div>
      <div id="main-content" class="container">
        <div class="filters" role="search" aria-label="Filter books">
          <select id="genrefilter" aria-label="Filter by genre">
            <option value="">All genres</option>
          </select>
          <select id="authorfilter" aria-label="Filter by author">
            <option value="">All authors</option>
          </select>
          <select id="ratingfilter" aria-label="Filter by rating">
            <option value="">All ratings</option>
            <option value="5">5 stars</option>
            <option value="4">4 stars</option>
            <option value="3">3 stars</option>
            <option value="2">2 stars</option>
            <option value="1">1 star</option>
          </select>
        </div>

        <div
          class="add-book-form"
          role="form"
          aria-labelledby="add-book-heading"
        >
          <h2 id="add-book-heading">Add new book</h2>
          <div class="form-group">
            <label for="booktitle">Book title</label>
            <input
              type="text"
              id="booktitle"
              placeholder="Book title"
              required
              aria-required="true"
              aria-invalid="false"
            />
          </div>
          <div class="form-group">
            <label for="bookauthor">Author</label>
            <input
              type="text"
              id="bookauthor"
              placeholder="Author"
              required
              aria-required="true"
              aria-invalid="false"
            />
          </div>
          <div class="form-group">
            <label for="bookgenre">Genre</label>
            <input
              type="text"
              id="bookgenre"
              placeholder="Genre"
              required
              aria-required="true"
              aria-invalid="false"
            />
          </div>
          <div class="form-group">
            <label for="bookrating">Rating</label>
            <select id="bookrating" required aria-required="true">
              <option value="">Select rating</option>
              <option value="5">5 stars</option>
              <option value="4">4 stars</option>
              <option value="3">3 stars</option>
              <option value="2">2 stars</option>
              <option value="1">1 star</option>
            </select>
          </div>
          <div class="form-group">
            <label for="booknotes">Notes</label>
            <textarea id="booknotes" placeholder="Notes (optional)"></textarea>
          </div>
          <button
            id="addbookbtn"
            type="submit"
            aria-label="Add book to collection"
          >
            Add Book
          </button>
        </div>

        <section class="books-list" aria-labelledby="books-heading">
          <h2 id="books-heading">My Books</h2>
          <div
            id="bookslist"
            aria-label="List of books"
            aria-live="polite"
          ></div>
        </section>

        <div
          id="chatbot-container"
          role="complementary"
          aria-label="Book assistant chatbot"
        >
          <button
            class="minimize-btn"
            aria-label="Minimize chat"
            title="Minimize chat"
          >
            âˆ’
          </button>
          <div id="chat-history" role="log" aria-label="Chat history"></div>
          <div class="chat-input-group" role="group">
            <input
              type="text"
              id="chat-input"
              placeholder="Ask about your books..."
              aria-label="Chat message"
            />
            <button id="send-btn" aria-label="Send message">Send</button>
          </div>
        </div>
        <button class="chat-toggle-btn" aria-label="Open chat">
          Chat with Book Assistant
        </button>
      </div>

      <!-- Edit Book Modal -->
      <div
        id="edit-modal"
        class="modal"
        role="dialog"
        aria-labelledby="edit-book-heading"
        aria-hidden="true"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="edit-book-heading">Edit Book</h2>
            <button class="close-modal" aria-label="Close edit dialog">
              &times;
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="edit-booktitle">Book title</label>
              <input
                type="text"
                id="edit-booktitle"
                placeholder="Book title"
                required
                aria-required="true"
                aria-invalid="false"
              />
            </div>
            <div class="form-group">
              <label for="edit-bookauthor">Author</label>
              <input
                type="text"
                id="edit-bookauthor"
                placeholder="Author"
                required
                aria-required="true"
                aria-invalid="false"
              />
            </div>
            <div class="form-group">
              <label for="edit-bookgenre">Genre</label>
              <input
                type="text"
                id="edit-bookgenre"
                placeholder="Genre"
                required
                aria-required="true"
                aria-invalid="false"
              />
            </div>
            <div class="form-group">
              <label for="edit-bookrating">Rating</label>
              <select id="edit-bookrating" required aria-required="true">
                <option value="">Select rating</option>
                <option value="5">5 stars</option>
                <option value="4">4 stars</option>
                <option value="3">3 stars</option>
                <option value="2">2 stars</option>
                <option value="1">1 star</option>
              </select>
            </div>
            <div class="form-group">
              <label for="edit-booknotes">Notes</label>
              <textarea
                id="edit-booknotes"
                placeholder="Notes (optional)"
              ></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button id="update-book-btn" type="button" aria-label="Update book">
              Update Book
            </button>
            <button
              class="cancel-edit-btn"
              type="button"
              aria-label="Cancel edit"
            >
              Cancel
            </button>
          </div>
        </div>
      </div>
    </main>
    <script type="module" src="../js/books.js"></script>
  </body>
</html>
